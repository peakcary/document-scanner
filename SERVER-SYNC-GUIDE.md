# ğŸ“‹ æœåŠ¡å™¨ä»£ç åŒæ­¥æ‰§è¡Œæ–‡æ¡£

## ğŸ¯ ç›®æ ‡
ç¡®ä¿æœåŠ¡å™¨ä»£ç ä¸æœ¬åœ°ä»£ç 100%ä¸€è‡´ï¼Œè§£å†³ç‰ˆæœ¬ä¸åŒæ­¥é—®é¢˜ã€‚

## ğŸ“¦ å‡†å¤‡å·¥ä½œ

### æ£€æŸ¥æœ¬åœ°ç¯å¢ƒ
```bash
# ç¡®è®¤åœ¨é¡¹ç›®ç›®å½•
cd /Users/peakom/document-scanner

# æ£€æŸ¥æœ¬åœ°ä»£ç çŠ¶æ€
git status
git log --oneline -3

# æ£€æŸ¥ä»£ç åŒ…æ˜¯å¦å­˜åœ¨
ls -lh document-scanner-latest.tar.gz
```

å¦‚æœä»£ç åŒ…ä¸å­˜åœ¨ï¼Œåˆ›å»ºå®ƒï¼š
```bash
tar --exclude='.git' --exclude='*.tar.gz' --exclude='.DS_Store' --exclude='node_modules' -czf document-scanner-latest.tar.gz .
```

## ğŸš€ æ‰§è¡Œæ­¥éª¤

### ç¬¬1æ­¥ï¼šä¸Šä¼ ä»£ç åŒ…åˆ°æœåŠ¡å™¨

**åœ¨Macç»ˆç«¯æ‰§è¡Œï¼š**
```bash
cd /Users/peakom/document-scanner

# ä¸Šä¼ ä»£ç åŒ…åˆ°æœåŠ¡å™¨
scp document-scanner-latest.tar.gz root@47.92.236.28:/tmp/
```

**é¢„æœŸæç¤ºï¼š**
```
root@47.92.236.28's password: 
```

**è¾“å…¥å¯†ç ï¼š** `Pp--9257`

**é¢„æœŸç»“æœï¼š**
```
document-scanner-latest.tar.gz    100%   87KB   1.2MB/s   00:00
```

### ç¬¬2æ­¥ï¼šSSHç™»å½•æœåŠ¡å™¨

**æ‰§è¡Œå‘½ä»¤ï¼š**
```bash
ssh root@47.92.236.28
```

**è¾“å…¥å¯†ç ï¼š** `Pp--9257`

**é¢„æœŸç»“æœï¼š** ç™»å½•åˆ°æœåŠ¡å™¨å‘½ä»¤è¡Œ

### ç¬¬3æ­¥ï¼šè¿›å…¥é¡¹ç›®ç›®å½•

**åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼š**
```bash
cd /var/www/document-scanner
pwd
```

**é¢„æœŸè¾“å‡ºï¼š**
```
/var/www/document-scanner
```

### ç¬¬4æ­¥ï¼šåœæ­¢ç°æœ‰æœåŠ¡

**æ‰§è¡Œå‘½ä»¤ï¼š**
```bash
pkill -f "python3 -m http.server" 2>/dev/null || true
pkill -f "python -m http.server" 2>/dev/null || true
```

**éªŒè¯æœåŠ¡å·²åœæ­¢ï¼š**
```bash
ps aux | grep python
```

åº”è¯¥çœ‹ä¸åˆ°HTTPæœåŠ¡è¿›ç¨‹ã€‚

### ç¬¬5æ­¥ï¼šåˆ›å»ºå¤‡ä»½

**æ‰§è¡Œå‘½ä»¤ï¼š**
```bash
cp -r . ../document-scanner-backup-$(date +%Y%m%d_%H%M%S)
```

**éªŒè¯å¤‡ä»½ï¼š**
```bash
ls -la ../document-scanner-backup-*
```

**é¢„æœŸç»“æœï¼š** æ˜¾ç¤ºå¤‡ä»½ç›®å½•

### ç¬¬6æ­¥ï¼šæ¸…ç©ºå½“å‰ç›®å½•

**âš ï¸ é‡è¦ï¼šè¿™å°†åˆ é™¤å½“å‰æ‰€æœ‰æ–‡ä»¶ï¼ˆé™¤.gitï¼‰**

**æ‰§è¡Œå‘½ä»¤ï¼š**
```bash
find . -maxdepth 1 -not -name '.' -not -name '.git' -exec rm -rf {} \;
```

**éªŒè¯æ¸…ç©ºç»“æœï¼š**
```bash
ls -la
```

**é¢„æœŸç»“æœï¼š** åªå‰©ä¸‹ `.` å’Œ `.git` ç›®å½•

### ç¬¬7æ­¥ï¼šè§£å‹æœ€æ–°ä»£ç 

**æ‰§è¡Œå‘½ä»¤ï¼š**
```bash
tar -xzf /tmp/document-scanner-latest.tar.gz
```

**éªŒè¯è§£å‹ç»“æœï¼š**
```bash
ls -la
```

**é¢„æœŸç»“æœï¼š** çœ‹åˆ°æ‰€æœ‰é¡¹ç›®æ–‡ä»¶

### ç¬¬8æ­¥ï¼šè®¾ç½®æ–‡ä»¶æƒé™

**æ‰§è¡Œå‘½ä»¤ï¼š**
```bash
chmod +x *.sh
chmod 644 *.html *.css *.js *.md 2>/dev/null || true
```

**éªŒè¯æƒé™ï¼š**
```bash
ls -la *.sh
```

**é¢„æœŸç»“æœï¼š** æ‰€æœ‰.shæ–‡ä»¶æ˜¾ç¤ºå¯æ‰§è¡Œæƒé™ï¼ˆ-rwxr-xr-xï¼‰

### ç¬¬9æ­¥ï¼šä¿®å¤Gitå…¼å®¹æ€§

**âš ï¸ å…³é”®æ­¥éª¤ï¼šä¿®å¤æ—§ç‰ˆGitçš„stashå‘½ä»¤**

**æ‰§è¡Œå‘½ä»¤ï¼š**
```bash
sed -i 's/git stash push -m/git stash save/g' *.sh
```

**éªŒè¯ä¿®å¤ï¼š**
```bash
grep -l "git stash save" *.sh
```

**é¢„æœŸç»“æœï¼š** æ˜¾ç¤ºå·²ä¿®å¤çš„è„šæœ¬æ–‡ä»¶

### ç¬¬10æ­¥ï¼šå¯åŠ¨HTTPæœåŠ¡

**æ‰§è¡Œå‘½ä»¤ï¼š**
```bash
nohup python3 -m http.server 8080 --bind 0.0.0.0 > server.log 2>&1 &
```

**ç­‰å¾…æœåŠ¡å¯åŠ¨ï¼š**
```bash
sleep 3
```

### ç¬¬11æ­¥ï¼šéªŒè¯æœåŠ¡çŠ¶æ€

**æ£€æŸ¥è¿›ç¨‹ï¼š**
```bash
ps aux | grep "python3 -m http.server"
```

**é¢„æœŸç»“æœï¼š**
```
root      1234  0.0  0.1  python3 -m http.server 8080 --bind 0.0.0.0
```

**æµ‹è¯•æœ¬åœ°è®¿é—®ï¼š**
```bash
curl -I http://localhost:8080
```

**é¢„æœŸç»“æœï¼š**
```
HTTP/1.0 200 OK
Server: SimpleHTTP/0.6 Python/3.x.x
```

### ç¬¬12æ­¥ï¼šæ£€æŸ¥æœ€æ–°æ–‡ä»¶

**éªŒè¯åŒæ­¥çš„å…³é”®æ–‡ä»¶ï¼š**
```bash
ls -la sync-local-to-server.sh force-update-server.sh server-update-script.sh
```

**é¢„æœŸç»“æœï¼š** è¿™äº›æ–‡ä»¶éƒ½åº”è¯¥å­˜åœ¨ä¸”æœ‰æ‰§è¡Œæƒé™

## âœ… éªŒè¯æˆåŠŸæ ‡å‡†

### 1. æœåŠ¡è¿è¡Œæ­£å¸¸
```bash
ps aux | grep python3
```
åº”è¯¥çœ‹åˆ°HTTPæœåŠ¡è¿›ç¨‹ã€‚

### 2. ç½‘ç«™å¯è®¿é—®
**åœ¨æµè§ˆå™¨è®¿é—®ï¼š** http://47.92.236.28:8080

**æˆ–ä½¿ç”¨curlæµ‹è¯•ï¼š**
```bash
curl http://47.92.236.28:8080 | head -5
```

### 3. æœ€æ–°æ–‡ä»¶å­˜åœ¨
```bash
ls -la *.sh | wc -l
```
åº”è¯¥çœ‹åˆ°å¤šä¸ªè„šæœ¬æ–‡ä»¶ï¼ˆè‡³å°‘8-10ä¸ªï¼‰ã€‚

### 4. Gitå…¼å®¹æ€§å·²ä¿®å¤
```bash
grep "git stash save" *.sh | wc -l
```
åº”è¯¥æ˜¾ç¤ºå¤§äº0çš„æ•°å­—ã€‚

## ğŸš¨ æ•…éšœæ’æŸ¥

### é—®é¢˜1ï¼šä¸Šä¼ å¤±è´¥
**ç—‡çŠ¶ï¼š** scpå‘½ä»¤å¤±è´¥
**è§£å†³ï¼š**
```bash
# æ£€æŸ¥ç½‘ç»œè¿æ¥
ping 47.92.236.28

# é‡è¯•ä¸Šä¼ 
scp document-scanner-latest.tar.gz root@47.92.236.28:/tmp/
```

### é—®é¢˜2ï¼šSSHè¿æ¥å¤±è´¥
**ç—‡çŠ¶ï¼š** sshè¿æ¥è¢«æ‹’ç»
**è§£å†³ï¼š**
```bash
# æ£€æŸ¥IPå’Œå¯†ç 
ssh root@47.92.236.28
# ç¡®ä¿å¯†ç æ˜¯ï¼šPp--9257
```

### é—®é¢˜3ï¼šæœåŠ¡å¯åŠ¨å¤±è´¥
**ç—‡çŠ¶ï¼š** HTTPæœåŠ¡æ— æ³•å¯åŠ¨
**è§£å†³ï¼š**
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -tlpn | grep 8080

# æ€æ­»å ç”¨è¿›ç¨‹
lsof -ti:8080 | xargs kill -9

# é‡æ–°å¯åŠ¨
nohup python3 -m http.server 8080 --bind 0.0.0.0 > server.log 2>&1 &
```

### é—®é¢˜4ï¼šç½‘ç«™æ— æ³•è®¿é—®
**ç—‡çŠ¶ï¼š** æµè§ˆå™¨æ— æ³•æ‰“å¼€ç½‘ç«™
**è§£å†³ï¼š**
```bash
# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
tail -f server.log

# æ£€æŸ¥é˜²ç«å¢™
ufw status

# é‡å¯æœåŠ¡
pkill -f python3
nohup python3 -m http.server 8080 --bind 0.0.0.0 > server.log 2>&1 &
```

## ğŸ“Š å®Œæˆæ£€æŸ¥æ¸…å•

- [ ] ä»£ç åŒ…ä¸Šä¼ æˆåŠŸ
- [ ] SSHç™»å½•æœåŠ¡å™¨æˆåŠŸ  
- [ ] è¿›å…¥é¡¹ç›®ç›®å½•
- [ ] åœæ­¢ç°æœ‰æœåŠ¡
- [ ] åˆ›å»ºå¤‡ä»½
- [ ] æ¸…ç©ºå½“å‰ç›®å½•
- [ ] è§£å‹æœ€æ–°ä»£ç 
- [ ] è®¾ç½®æ–‡ä»¶æƒé™
- [ ] ä¿®å¤Gitå…¼å®¹æ€§
- [ ] å¯åŠ¨HTTPæœåŠ¡
- [ ] éªŒè¯æœåŠ¡çŠ¶æ€
- [ ] æ£€æŸ¥ç½‘ç«™è®¿é—®
- [ ] ç¡®è®¤æœ€æ–°æ–‡ä»¶å­˜åœ¨

## ğŸ‰ å®Œæˆæ ‡å¿—

å½“ä»¥ä¸‹æ¡ä»¶éƒ½æ»¡è¶³æ—¶ï¼ŒåŒæ­¥å®Œæˆï¼š

1. âœ… **æœåŠ¡å™¨HTTPæœåŠ¡æ­£å¸¸è¿è¡Œ**
2. âœ… **ç½‘ç«™ http://47.92.236.28:8080 å¯æ­£å¸¸è®¿é—®**  
3. âœ… **æœ€æ–°çš„è„šæœ¬æ–‡ä»¶éƒ½å­˜åœ¨äºæœåŠ¡å™¨**
4. âœ… **Gitå…¼å®¹æ€§é—®é¢˜å·²ä¿®å¤**

## ğŸ“ åç»­ç®¡ç†

### é‡å¯æœåŠ¡
```bash
pkill -f python3
nohup python3 -m http.server 8080 --bind 0.0.0.0 > server.log 2>&1 &
```

### æŸ¥çœ‹æ—¥å¿—
```bash
tail -f server.log
```

### æ£€æŸ¥çŠ¶æ€
```bash
ps aux | grep python3
netstat -tlpn | grep 8080
```

---

**ğŸ¯ æ‰§è¡Œæ­¤æ–‡æ¡£åï¼ŒæœåŠ¡å™¨ä»£ç å°†ä¸æœ¬åœ°å®Œå…¨ä¸€è‡´ï¼**