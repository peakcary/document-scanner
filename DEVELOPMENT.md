# ğŸ”„ å¼€å‘éƒ¨ç½²æµç¨‹æŒ‡å—

æœ¬æ–‡æ¡£è¯´æ˜å¦‚ä½•è¿›è¡Œé¡¹ç›®çš„æ—¥å¸¸å¼€å‘ã€æµ‹è¯•å’Œéƒ¨ç½²ã€‚

## ğŸ“‹ å®Œæ•´å·¥ä½œæµç¨‹

```
æœ¬åœ°å¼€å‘ â†’ Gitæäº¤æ¨é€ â†’ æœåŠ¡å™¨è‡ªåŠ¨æ›´æ–° â†’ çº¿ä¸Šéƒ¨ç½²
```

## ğŸ› ï¸ æ—¥å¸¸å¼€å‘æµç¨‹

### 1. æœ¬åœ°å¼€å‘

```bash
# å¯åŠ¨æœ¬åœ°å¼€å‘æœåŠ¡å™¨
python3 -m http.server 8080

# åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€
open http://localhost:8080

# è¿›è¡Œä»£ç ä¿®æ”¹...
```

### 2. æäº¤å’Œæ¨é€ä»£ç 

```bash
# æŸ¥çœ‹ä¿®æ”¹çŠ¶æ€
git status

# æ·»åŠ ä¿®æ”¹çš„æ–‡ä»¶
git add .

# æäº¤ä¿®æ”¹
git commit -m "æè¿°ä½ çš„ä¿®æ”¹å†…å®¹"

# æ¨é€åˆ°GitHub
git push origin main
```

### 3. éƒ¨ç½²åˆ°æœåŠ¡å™¨

#### æ–¹æ³•1: ä¸€é”®è‡ªåŠ¨éƒ¨ç½² (æ¨è)

```bash
# æ‰§è¡Œä¸€é”®éƒ¨ç½²è„šæœ¬
./deploy-to-server.sh
```

è¿™ä¸ªè„šæœ¬ä¼šè‡ªåŠ¨ï¼š
- âœ… æ£€æŸ¥æœ¬åœ°GitçŠ¶æ€
- âœ… æäº¤æœªä¿å­˜çš„ä¿®æ”¹(å¯é€‰)
- âœ… æ¨é€ä»£ç åˆ°GitHub
- âœ… è§¦å‘æœåŠ¡å™¨è‡ªåŠ¨æ›´æ–°
- âœ… é‡å¯æœåŠ¡å¹¶éªŒè¯

#### æ–¹æ³•2: æ‰‹åŠ¨åˆ†æ­¥æ‰§è¡Œ

```bash
# 1. æ¨é€ä»£ç åˆ°GitHub
git push origin main

# 2. è¿æ¥æœåŠ¡å™¨å¹¶æ‰‹åŠ¨æ›´æ–°
ssh root@47.92.236.28
cd /var/www/document-scanner
./update-from-git.sh
```

## ğŸ”§ æœåŠ¡å™¨ç®¡ç†å‘½ä»¤

### è¿æ¥æœåŠ¡å™¨
```bash
ssh root@47.92.236.28
```

### å¸¸ç”¨æœåŠ¡å™¨æ“ä½œ
```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /var/www/document-scanner

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
ps aux | grep python3

# é‡å¯æœåŠ¡
pkill -f 'python3 -m http.server 8080'
nohup python3 -m http.server 8080 --bind 0.0.0.0 > server.log 2>&1 &

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
tail -f server.log

# ä»GitHubæ›´æ–°ä»£ç 
./update-from-git.sh

# æŸ¥çœ‹GitçŠ¶æ€
git status
git log --oneline -5
```

## ğŸ“ è„šæœ¬æ–‡ä»¶è¯´æ˜

### æœ¬åœ°è„šæœ¬

| æ–‡ä»¶ | ä½œç”¨ | ä½¿ç”¨æ–¹æ³• |
|------|------|----------|
| `deploy-to-server.sh` | ä¸€é”®éƒ¨ç½²åˆ°æœåŠ¡å™¨ | `./deploy-to-server.sh` |
| `start-local.sh` | å¯åŠ¨æœ¬åœ°å¼€å‘æœåŠ¡å™¨ | `./start-local.sh` |

### æœåŠ¡å™¨è„šæœ¬

| æ–‡ä»¶ | ä½œç”¨ | ä½ç½® |
|------|------|------|
| `update-from-git.sh` | ä»GitHubæ›´æ–°å¹¶é‡å¯ | `/var/www/document-scanner/` |
| `start-scanner.sh` | å¯åŠ¨æ–‡æ¡£æ‰«æå™¨æœåŠ¡ | `/var/www/document-scanner/` |

## ğŸš¨ æ•…éšœæ’æŸ¥

### 1. æœ¬åœ°å¼€å‘æœåŠ¡å™¨æ— æ³•å¯åŠ¨
```bash
# æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨
lsof -ti:8080

# æ€æ­»å ç”¨è¿›ç¨‹
kill -9 $(lsof -ti:8080)

# é‡æ–°å¯åŠ¨
python3 -m http.server 8080
```

### 2. Gitæ¨é€å¤±è´¥
```bash
# æ£€æŸ¥è¿œç¨‹ä»“åº“é…ç½®
git remote -v

# å¼ºåˆ¶æ¨é€(è°¨æ…ä½¿ç”¨)
git push origin main --force
```

### 3. æœåŠ¡å™¨æ›´æ–°å¤±è´¥
```bash
# è¿æ¥æœåŠ¡å™¨æ£€æŸ¥
ssh root@47.92.236.28

# æ£€æŸ¥ç½‘ç»œè¿æ¥
ping github.com

# æ‰‹åŠ¨æ‹‰å–ä»£ç 
cd /var/www/document-scanner
git fetch origin main
git reset --hard origin/main
```

### 4. æœåŠ¡å™¨æœåŠ¡æ— æ³•å¯åŠ¨
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -tlpn | grep 8080

# æ£€æŸ¥Pythonè¿›ç¨‹
ps aux | grep python3

# å¼ºåˆ¶é‡å¯
pkill -f python3
cd /var/www/document-scanner
./start-scanner.sh
```

## ğŸ”„ ç‰ˆæœ¬ç®¡ç†

### æŸ¥çœ‹ç‰ˆæœ¬å†å²
```bash
# æŸ¥çœ‹æäº¤å†å²
git log --oneline -10

# æŸ¥çœ‹æŸæ¬¡æäº¤çš„è¯¦ç»†ä¿¡æ¯
git show <commit-hash>

# æ¯”è¾ƒä¸¤ä¸ªç‰ˆæœ¬çš„å·®å¼‚
git diff <commit1> <commit2>
```

### å›æ»šç‰ˆæœ¬
```bash
# å›æ»šåˆ°æŒ‡å®šç‰ˆæœ¬
git reset --hard <commit-hash>
git push origin main --force

# æœåŠ¡å™¨æ›´æ–°
./deploy-to-server.sh
```

## ğŸ“Š æ€§èƒ½ç›‘æ§

### æœåŠ¡å™¨æ€§èƒ½æ£€æŸ¥
```bash
# æŸ¥çœ‹æœåŠ¡å™¨èµ„æºä½¿ç”¨
htop

# æŸ¥çœ‹ç£ç›˜ä½¿ç”¨
df -h

# æŸ¥çœ‹ç½‘ç»œè¿æ¥
netstat -tuln
```

### ç½‘ç«™è®¿é—®æµ‹è¯•
```bash
# æµ‹è¯•æœ¬åœ°è®¿é—®
curl -I http://localhost:8080

# æµ‹è¯•è¿œç¨‹è®¿é—®
curl -I http://47.92.236.28:8080
```

## ğŸ¯ æœ€ä½³å®è·µ

1. **å®šæœŸæäº¤**: å®Œæˆä¸€ä¸ªåŠŸèƒ½å°±æäº¤ä¸€æ¬¡
2. **æ¸…æ™°çš„æäº¤ä¿¡æ¯**: ä½¿ç”¨æœ‰æ„ä¹‰çš„æäº¤æ¶ˆæ¯
3. **æµ‹è¯•åéƒ¨ç½²**: æœ¬åœ°æµ‹è¯•é€šè¿‡åå†éƒ¨ç½²
4. **å¤‡ä»½é‡è¦ç‰ˆæœ¬**: ä¸ºé‡è¦ç‰ˆæœ¬æ‰“æ ‡ç­¾
5. **ç›‘æ§æœåŠ¡çŠ¶æ€**: å®šæœŸæ£€æŸ¥æœåŠ¡å™¨è¿è¡ŒçŠ¶æ€

## ğŸ“ å¿«é€Ÿå‚è€ƒ

| åœºæ™¯ | å‘½ä»¤ |
|------|------|
| æœ¬åœ°å¼€å‘ | `python3 -m http.server 8080` |
| ä¸€é”®éƒ¨ç½² | `./deploy-to-server.sh` |
| æŸ¥çœ‹æ—¥å¿— | `tail -f server.log` |
| é‡å¯æœåŠ¡ | `./update-from-git.sh` |
| è¿æ¥æœåŠ¡å™¨ | `ssh root@47.92.236.28` |

---

ğŸ”— **ç›¸å…³é“¾æ¥**:
- åœ¨çº¿æ¼”ç¤º: http://47.92.236.28:8080
- GitHubä»“åº“: https://github.com/peakcary/document-scanner
- é¡¹ç›®æ–‡æ¡£: [README.md](README.md)